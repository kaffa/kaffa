<!DOCTYPE html>
<html lang="zh-cn">
<head>
      <title>Kaffa.im - PHP 联席架构师辞职，原来他想做 P++…</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Pelican" />
    <meta name="author" content="Kaffa" />
    <!--
        Q1. 本站技术栈？
        A1. 本站目前版本V2，主要技术栈有 reStructuredText, Markdown, Pelican, kaffa-theme, Bulma, Github Pages

        Q2. 更多信息？
        A2. 微信公众号：Kaffa
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/bulma/css/bulma.min.css">
    <link rel="stylesheet" href="/css/bulma-divider.min.css">
    <link rel="stylesheet" href="/css/0.css">




    <meta name="tags" content="随笔" />
    <meta name="tags" content="Essays" />
    <meta name="tags" content="技术" />
    <meta name="tags" content="Technology" />
    <meta name="tags" content="PHP" />
    <meta name="tags" content="P++" />
    <meta name="tags" content="Zeev Suraski" />
    <meta name="tags" content="Rasmus Lerdorf" />
    <meta name="tags" content="PPlusPlus FAQ" />

</head>
<body>
    <header>
        <nav class="navbar container is-max-widescreen" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
                <h1 class="navbar-item"><a href="./">
                    Kaffa.im</a>
                </h1>
              <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
              </a>
            </div>
            <div class="navbar-menu">
                <div class="navbar-start">
                </div>
                <div class="navbar-end">
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a class="navbar-link">笔记</a>
                        <div class="navbar-dropdown">
                            <a class="navbar-item" href="javascript:;">网站</a>
                            <hr class="navbar-divider">
                            <a class="navbar-item" href="javascript:;">读书</a>
                        </div>
                    </div>
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a class="navbar-link">创作</a>
                        <div class="navbar-dropdown">
                            <a class="navbar-item" href="javascript:;">文章</a>
                            <hr class="navbar-divider">
                            <a class="navbar-item" href="javascript:;">书单</a>
                            <hr class="navbar-divider">
                            <a class="navbar-item" href="javascript:;">周报</a>
                            <hr class="navbar-divider">
                            <a class="navbar-item" href="javascript:;">概念</a>
                        </div>
                    </div>
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a class="navbar-link">我的</a>
                        <div class="navbar-dropdown">
                            <a class="navbar-item" href="javascript:;">书</a>
                            <a class="navbar-item" href="javascript:;">影</a>
                            <a class="navbar-item" href="javascript:;">音</a>
                            <hr class="navbar-divider">
                            <a class="navbar-item" href="javascript:;">物</a>
                        </div>
                    </div>
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a class="navbar-link">关于</a>
                        <div class="navbar-dropdown">
                            <a class="navbar-item" href="/pages/about.html">站长</a>
                            <hr class="navbar-divider">
                            <a class="navbar-item" href="mailto:admin@kaffa.im?subject=Hello%20from%20&body=你好，">联系</a>
                            <hr class="navbar-divider">
                            <a class="navbar-item" href="mailto:admin@kaffa.im?subject=Hello%20from%20&body=网站反馈：">网站反馈</a>
                        </div>
                    </div>
                    <!--
                    <div class="navbar-item">
                        <div class="buttons">
                            <a class="button is-primary">
                            <strong>Sign up</strong>
                            </a>
                            <a class="button is-light">
                            Log in
                            </a>
                        </div>
                    </div>
                    -->
                </div>
            </div>
        </nav>
    </header>
    <main class="has-background-grey-lighter">
  <header>
    <h1 class="entry-title">
      <a href="./php-zeev-resigned-originally-he-wanted-to-start-pplusplus.html" rel="bookmark"
         title="Permalink to PHP 联席架构师辞职，原来他想做 P++…">PHP 联席架构师辞职，原来他想做 P++…</a></h1>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2019-08-11T12:00:00+08:00">
      2019-08-11 周日
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="./author/kaffa.html">Kaffa</a>
    </address>
    <div class="category">
        Category: <a href="./category/sui-bi.html">随笔</a>
    </div>
    <div class="tags">
        Tags:
            <a href="./tag/sui-bi.html">随笔</a>
            <a href="./tag/essays.html">Essays</a>
            <a href="./tag/ji-zhu.html">技术</a>
            <a href="./tag/technology.html">Technology</a>
            <a href="./tag/php.html">PHP</a>
            <a href="./tag/p.html">P++</a>
            <a href="./tag/zeev-suraski.html">Zeev Suraski</a>
            <a href="./tag/rasmus-lerdorf.html">Rasmus Lerdorf</a>
            <a href="./tag/pplusplus-faq.html">PPlusPlus FAQ</a>
    </div>
  </footer><!-- /.post-info -->
  <article>
    <p>1997 年，以色列程序员 Zeev Suraski 及 Andi Gutmans 加入了 Zend 公司 的 PHP 语言开发，发布了 PHP 3, PHP 4, PHP 5，注意没有 PHP 6，再到现在的 PHP 7。 1975 年出生的 Zeev Suraski 在 Zend 工作了 20 年。也许是在语言、架构和库的工作上找不到发展方向了。</p>
<div class="section" id="section-1">
<h2>题记</h2>
<p>PHP 语言的创始人 Rasmus Lerdorf 生于 1968 年，今年已 51 岁，他在 1995 年以 Personal Home Page Tools 为名发布了 PHP 1.0。他的辉煌随着雅虎在搜索领域的颓败而黯淡。</p>
<p>1997 年，以色列程序员 Zeev Suraski 及 Andi Gutmans 加入了 Zend 公司 的 PHP 语言开发，发布了 PHP 3, PHP 4, PHP 5，注意没有 PHP 6，再到现在的 PHP 7。 1975 年出生的 Zeev Suraski 在 Zend 工作了 20 年。也许是在语言、架构和库的工作上找不到发展方向了。</p>
<p>前几天 Zeev Suraski 宣布从 Zend 离职，业界比较惊讶，PHP 7 优化的开发者鸟哥说是这是早已预定好的事。原来 Zeev Suraski 辞职，他想做 P++，那 P++ 是啥？他通过《<a class="reference external" href="https://wiki.php.net/pplusplus/faq">P++ idea: FAQ</a>》进行了回答，笔者作了全文翻译。</p>
</div>
<div class="section" id="php">
<h2>关于 PHP 语言动态静态的看法</h2>
<p>笔者自 PHP 4.0 时开始使用，觉得 PHP 语言的动态性与 Web 应用细节经常发生变化的需求是绝配。在 PHP 最初的时代，语言哲学就是——不需要框架，因为 PHP 说——我就是框架。</p>
<p>因此，某种程度上，我不太理解那些在 Web 应用开上把 PHP 和 Python 写成 Java 风味的程序员，数不清的类和依赖，冗长的命名空间、包名，类的深层次调用随处可见，各种不必要的自定义异常，繁重的框架。</p>
<p>看着这样的代码，你会有一种想用水果刀把代码赘肉割掉的冲动，这样代码可以减少一半，运行速度和消耗也可大幅降低，可维护性提高。</p>
<p>PHP 也让我想到 Python 最早的一批 Web 框架 Quixote，用中文形容就是“佛性 ” ，发布过三个版本，现在还用 1.x 的大有人在，因为在那个年代 Web 应用的痛点已经被框架妥善地解决，这点上，PHP 本身就完成的很好。Quixote 并不优雅，但能用。</p>
<p>PHP 在新时代，受到 Go 和 Rust 的冲击，也借鉴了同类语言语法，加入了丰富的语言特性，逐步进化为一门花招较多、看起来更完善的动态语言。不可否认，它确实是在不断进化，于是也产生了 Laravel 这样搞定一切的框架，却不一定比 Django、Flask、ROR、Node.js 的方案更容易获得市场认可，因为 PHP 的动态性是优势，如果要静态类型检查，你 Rust 啊。</p>
<p>在国内软件工程现状上，看似优雅的设计最后会成为绊脚石，优雅的框架只适合观赏，或给能理解优雅的程序员使用，而这类人在企业中往往凤毛麟角。</p>
</div>
<div class="section" id="section-2">
<h2>静态检查的剖析</h2>
<p>Talk is cheap，show me your code. 以下即为 PHP 7 中开启静态检查的方式，P++ 的提案，就是可以全局开启，并在更大范围内开启:</p>
<pre class="literal-block">
&lt;?php declare(strict_types=1);

function sum(float $a, float $b) {
    return $a + $b;
}
echo sum(1, 1);
echo sum(1, '1');
</pre>
<p>以上代码，如果第一行 strict_types=0 时，可以正常输出 22，而上述代码的执行会报错:</p>
<pre class="literal-block">
2
( ! ) Fatal error: Uncaught TypeError: Argument 2 passed to sum() must be of the type float, string given, called in
test_strict_type.php on line 7 and defined in
test_strict_type.php on line 3
( ! ) TypeError: Argument 2 passed to sum() must be of the type float, string given, called in test_strict_type.php on line 7 in test_strict_type.php on line 3
Call Stack
#   Time    Memory  Function        Location
1   0.0005  409184  {main}( )       ...\test_strict_type.php:0
2   0.0006  409184  sum( )  ...\test_strict_type.php:7
</pre>
<p>结论还是，语言特性对于了解语言特性的人有用。</p>
<p>实践上，笔者对 P++ 提案持不完全支持态度，以有限的社区专注动态特性，可以做的还有更多。</p>
<p>感谢阅读。</p>
</div>

  </article>
    </main>
    <footer class="footer is-max-widescreen">
        <div class="content has-text-centered">
            Copyright &copy; 2018-2013 <strong>Kaffa.im</strong> by <a href="https://kaffa.im">Kaffa</a>.
            <p>The templates code is licensed
            <a href="http://opensource.org/licenses/mit-license.php">MIT</a>. The website content
            is licensed <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY NC SA 4.0</a>.
            </p>
        </div>
    </footer>
</body>

</html>